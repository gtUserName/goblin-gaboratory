{"source":"webpackJsonp([40],{1354:function(e,r,t){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var n=t(262),m=t.n(n),a=t(31),j=t.n(a),g=t(1648),w=t(1391),b=t(504),P=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(t.push(s.value),!r||t.length!==r);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return t}(e,r);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};r.default={namespace:\"dashboard\",state:{loading:!0,working:void 0,userSessionProjects:void 0,eventSizeProjects:void 0,vodDurtionProjects:void 0,liveDurtionProjects:void 0,projectCount:void 0,userCount:void 0},subscriptions:{setup:function(e){var r=e.dispatch;return e.history.listen(function(e){if(\"/dashboard\"===e.pathname)return r({type:\"load\"})})}},effects:{load:m.a.mark(function e(r,t){r.payload;var n,a,o,s,u,c,i,p,f,v,d,h=t.put,l=t.select,y=t.call;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(function(e){return e.loading});case 2:if(n=e.sent,!n.loading){e.next=6;break}return e.abrupt(\"return\",!1);case 6:return e.next=8,h({type:\"save\",payload:{loading:!0,working:void 0,userSessionProjects:void 0,eventSizeProjects:void 0,vodDurtionProjects:void 0,liveDurtionProjects:void 0,projectCount:void 0,userCount:void 0}});case 8:return a=j()((new Date).setHours(0,0,0,0)-864e5).format(\"YYYY-MM-DDTHH:mm:ss\"),e.next=11,[y(g.a.getWorkingStatistic,{}),y(g.a.getProjectsByUserSession,{start_from:a}),y(g.a.getProjectsByEventSize,{start_from:a}),y(g.a.getProjectsByVodDurtion,{start_from:a}),y(g.a.getProjectsByLiveDurtion,{start_from:a}),y(w.a.getProjects,{start:0,limit:0}),y(b.a.getUsers,{start:0,limit:0})];case 11:return o=e.sent,s=P(o,7),u=s[0],c=s[1],i=s[2],p=s[3],f=s[4],v=s[5],d=s[6],e.next=22,h({type:\"save\",payload:{loading:!1,working:u.data||null,userSessionProjects:c.data||[],eventSizeProjects:i.data||[],vodDurtionProjects:p.data||[],liveDurtionProjects:f.data||[],projectCount:v.data.total||0,userCount:d.data.total||0}});case 22:case\"end\":return e.stop()}},e,this)})},reducers:{save:function(e,r){return Object.assign({},e,r.payload)}}}},1391:function(e,r,t){\"use strict\";var n=t(262),o=t.n(n),a=t(507);function s(e,r){var t={};for(var n in e)0<=r.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function u(e){return function(){var u=e.apply(this,arguments);return new Promise(function(o,s){return function r(e,t){try{var n=u[e](t),a=n.value}catch(e){return void s(e)}if(!n.done)return Promise.resolve(a).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});o(a)}(\"next\")})}}var c,i,p,f,v,d,h,l,y,m,j,g,w,b,P,x,k,N=function(){return Object(a.a)(\"/projects/:projectName/:resourcetype/:resourceId/:subType/:subId\")};r.a={addVirtualCamera:(k=u(o.a.mark(function e(r){var t=r.projectName,n=s(r,[\"projectName\"]);return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().post({projectName:t,resourcetype:\"add_virtual_camera\"},n));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)}),getStorageQuota:(x=u(o.a.mark(function e(r){var t=r.projectName;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t,resourcetype:\"storage_quota\"}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)}),getProjects:(P=u(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get(r));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)}),getProjectInfo:(b=u(o.a.mark(function e(r){var t=r.projectName;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)}),updateProjectInfo:(w=u(o.a.mark(function e(r){var t=r.projectName,n=s(r,[\"projectName\"]);return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().put({projectName:t},n));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)}),getAccount:(g=u(o.a.mark(function e(r){var t=r.projectName;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t,resourcetype:\"account\"}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)}),getQuota:(j=u(o.a.mark(function e(r){var t=r.projectName;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t,resourcetype:\"quota\"}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)}),getOnlineSchoolConfig:(m=u(o.a.mark(function e(r){var t=r.projectName;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t,resourcetype:\"online_school\",resourceId:\"config\"}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)}),getWechatMerchant:(y=u(o.a.mark(function e(r){var t=r.projectName;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t,resourcetype:\"wechat_merchant\"}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)}),getProjectUsers:(l=u(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get(Object.assign({},r,{resourcetype:\"users\"})));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)}),getProjectUserInfo:(h=u(o.a.mark(function e(r){var t=r.projectName,n=r.username;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t,resourcetype:\"users\",resourceId:n}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)}),addProjectUser:(d=u(o.a.mark(function e(r){var t=r.projectName,n=r.username,a=r.role;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().post({projectName:t,resourcetype:\"users\"},{username:n,role:a}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)}),removeProjectUser:(v=u(o.a.mark(function e(r){var t=r.projectName,n=r.username;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().remove({projectName:t,resourcetype:\"users\",resourceId:n}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)}),getProjectUserRoles:(f=u(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get(Object.assign({},r,{resourcetype:\"user_roles\"})));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)}),getProjectUserRole:(p=u(o.a.mark(function e(r){var t=r.projectName,n=r.username;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get({projectName:t,resourcetype:\"user_roles\",resourceId:n}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)}),updateProjectUserRole:(i=u(o.a.mark(function e(r){var t=r.projectName,n=r.username,a=r.role;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().put({projectName:t,resourcetype:\"user_roles\",resourceId:n},{role:a}));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),getProjectDevices:(c=u(o.a.mark(function e(r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",N().get(Object.assign({},r,{resourcetype:\"devices\"})));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})}},1648:function(e,r,t){\"use strict\";var n=t(262),a=t.n(n),o=t(507);function s(e){return function(){var u=e.apply(this,arguments);return new Promise(function(o,s){return function r(e,t){try{var n=u[e](t),a=n.value}catch(e){return void s(e)}if(!n.done)return Promise.resolve(a).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});o(a)}(\"next\")})}}var u,c,i,p,f,v=function(){return Object(o.a)(\"/ivr_statistic/:type/:subType/:resourceType\")};r.a={getWorkingStatistic:(f=s(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",v().get(Object.assign({type:\"realtime\",subType:\"working\"},r)));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)}),getProjectsByUserSession:(p=s(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",v().get(Object.assign({type:\"realtime\",subType:\"user_session_counts\"},r)));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)}),getProjectsByEventSize:(i=s(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",v().get(Object.assign({type:\"event\",subType:\"size\",resourceType:\"projects\"},r)));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),getProjectsByVodDurtion:(c=s(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",v().get(Object.assign({type:\"vod_session\",subType:\"duration\",resourceType:\"projects\"},r)));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)}),getProjectsByLiveDurtion:(u=s(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",v().get(Object.assign({type:\"live_session\",subType:\"duration\",resourceType:\"projects\"},r)));case 1:case\"end\":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})}}});"}