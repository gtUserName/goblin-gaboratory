{"version":3,"sources":["services/show.js","models/client/shows.js"],"names":["shows","Object","__WEBPACK_IMPORTED_MODULE_1__utils_resource__","liveShowResource","__webpack_exports__","getShows","_ref","_asyncToGenerator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_callee","params","data","wrap","_context","prev","next","projectName","start","limit","keyword","abrupt","get","stop","this","_x","apply","arguments","getShow","_ref3","_callee2","_ref2","showId","_context2","_x2","getShowTags","_ref5","_callee3","_ref4","_context3","type","_x3","getShowStatistic","_ref7","_callee4","_ref6","_context4","_x4","getLiveStatistics","_ref9","_callee5","_ref8","_context5","_x5","getShowRecords","_ref11","_callee6","_ref10","_context6","_x6","removeShowRecord","_ref13","_callee7","_ref12","eventId","_context7","remove","subId","_x7","addShowRecords","_ref15","_callee8","_ref14","events","_context8","post","_x8","getShowSchedules","_ref17","_callee9","_ref16","_context9","resourceType","_x9","getShowsByEvent","_ref19","_callee10","_ref18","_context10","resourceId","_x10","changeShowState","_ref21","_callee11","_ref20","op","_context11","_x11","updateShowInfo","_ref23","_callee12","_ref22","_objectWithoutProperties","_context12","put","_x12","namespace","state","pageSize","list","page","total","undefined","loading","info","tags","statistic","subscriptions","setup","dispatch","history","listen","pathname","match","payload","matObj","effects","init","_queryString$parseUrl","query","call","select","__WEBPACK_IMPORTED_MODULE_1_query_string___default","parseUrl","window","location","href","parseInt","load","selected","sent","client","__WEBPACK_IMPORTED_MODULE_2__services_show__","err","getShowInfo","uuid","refreshShowInfo","_slicedToArray","reducers","save","action","assign"],"mappings":"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","file":"static/js/2.537b362a.chunk.js","sourcesContent":["\r\n// import { resource } from '../utils';\r\nimport resource from '../utils/resource';\r\n\r\n\r\nconst shows = () => {\r\n  return resource('/projects/:projectName/live_shows/:showId/:type/:subId');\r\n};\r\n\r\n// const showSchedules = () => {\r\n//   return resource('/projects/:projectName/live_show_schedules/:scheduleId');\r\n// };\r\n\r\n\r\nconst liveShowResource = () => {\r\n  return resource('/projects/:projectName/live_show/:resourceType/:resourceId/live_shows');\r\n};\r\n\r\nexport default {\r\n  async getShows(params) {\r\n    const data = {\r\n      projectName: params.projectName,\r\n      start: params.start,\r\n      limit: params.limit,\r\n    };\r\n    if (('string' === typeof params.keyword) && '' !== params.keyword) {\r\n      data.keyword = params.keyword;\r\n    }\r\n    return shows().get(data);\r\n  },\r\n  async getShow({ projectName, showId }) {\r\n    return shows().get({ projectName, showId });\r\n  },\r\n  async getShowTags({ projectName, showId }) {\r\n    return shows().get({ projectName, showId, type: 'tags' });\r\n  },\r\n  async getShowStatistic({ projectName, showId }) {\r\n    return shows().get({ projectName, showId, type: 'statistic' });\r\n  },\r\n  async getLiveStatistics({ projectName, showId }) {\r\n    return shows().get({ projectName, showId, type: 'lives' });\r\n  },\r\n  async getShowRecords({ projectName, showId }) {\r\n    return shows().get({ projectName, showId, type: 'records' });\r\n  },\r\n  async removeShowRecord({ projectName, showId, eventId }) {\r\n    return shows().remove({ projectName, showId, type: 'records', subId: eventId });\r\n  },\r\n  async addShowRecords({ projectName, showId, events }) {\r\n    return shows().post({ projectName, showId, type: 'records' }, events);\r\n  },\r\n  async getShowSchedules({ projectName, start, limit }) {\r\n    return liveShowResource().get({ projectName, resourceType: 'live_show_schedules', start, limit });\r\n  },\r\n  async getShowsByEvent({ projectName, eventId }) {\r\n    return liveShowResource().get({ projectName, resourceType: 'events', resourceId: eventId });\r\n  },\r\n  async changeShowState({ projectName, showId, op }) {\r\n    return shows().post({ projectName, showId }, { op });\r\n  },\r\n  async updateShowInfo({ projectName, showId, ...data }) {\r\n    return shows().put({ projectName, showId }, data);\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/show.js","import queryString from 'query-string';\r\nimport showServer from '../../services/show';\r\n\r\nexport default {\r\n\r\n  namespace: 'shows',\r\n\r\n  state: {\r\n    pageSize: 20,\r\n    list: [],\r\n    page: 1,\r\n    total: undefined,\r\n    keyword: undefined,\r\n    loading: false,\r\n    info: undefined,\r\n    tags: undefined,\r\n    statistic: undefined,\r\n  },\r\n\r\n  subscriptions: {\r\n    setup({ dispatch, history }) {  // eslint-disable-line\r\n      return history.listen(({ pathname }) => {\r\n        const match = pathname.match(/^\\/p\\/([\\w-]+)\\/shows$/);\r\n        if (match) {\r\n          return dispatch({ type: 'init', payload: match[1] });\r\n        }\r\n        const matObj = pathname.match(/^\\/p\\/([\\w-]+)\\/shows\\/([\\w-]+)\\//);\r\n        if (matObj) {\r\n          return dispatch({ type: 'getShowInfo', payload: { projectName: matObj[1], showId: matObj[2] } });\r\n        }\r\n      });\r\n    },\r\n  },\r\n\r\n  effects: {\r\n    *init({ payload }, { call, put, select }) {  // eslint-disable-line\r\n      const { query } = queryString.parseUrl(window.location.href);\r\n      const page = parseInt(query.page || 1, 10);\r\n      yield put({ type: 'save', payload: { keyword: query.keyword, page } });\r\n      yield put({ type: 'save', payload: { list: [], total: undefined } });\r\n      yield put({ type: 'load', payload });\r\n    },\r\n    *load({ payload }, { call, put, select }) {\r\n      const { page, pageSize, keyword, loading } = yield select(state => state.shows);\r\n      if (loading) {\r\n        return;\r\n      }\r\n      yield put({ type: 'save', payload: { loading: true } });\r\n      const { selected } = yield select(state => state.client);\r\n      const { data, err } = yield call(showServer.getShows, {\r\n        projectName: selected,\r\n        keyword,\r\n        start: (page - 1) * pageSize,\r\n        limit: pageSize,\r\n      });\r\n      yield put({ type: 'save', payload: { loading: false } });\r\n      if (err) {\r\n        // TODO: 获取课堂列表失败\r\n      }\r\n      if (data) {\r\n        yield put({ type: 'save', payload: { list: data.list, total: data.total } });\r\n      }\r\n    },\r\n    *getShowInfo({ payload }, { put, select }) {\r\n      // yield put({ type: 'save', payload: { selected: payload } });\r\n      const { info } = yield select(state => state.shows);\r\n      if (!info || payload.showId !== info.uuid) {\r\n        yield put({ type: 'refreshShowInfo', payload });\r\n      }\r\n    },\r\n    *refreshShowInfo({ payload }, { call, put }) {\r\n      yield put({ type: 'save', payload: { info: undefined, tags: undefined, statistic: undefined } });\r\n      // const { data } = yield call(showServer.getShow, payload);\r\n      const [info, tags, statistic] = yield [\r\n        call(showServer.getShow, payload),\r\n        call(showServer.getShowTags, payload),\r\n        call(showServer.getShowStatistic, payload),\r\n      ];\r\n      yield put({\r\n        type: 'save',\r\n        payload: {\r\n          info: info.data || null,\r\n          tags: (tags.data || null),\r\n          statistic: (statistic.data || null),\r\n        },\r\n      });\r\n    },\r\n    // *updateInfo({ payload }, { put, select }) {\r\n    //   // yield put({ type: 'save', payload: { selected: payload } });\r\n    //   const { info } = yield select(state => state.events);\r\n    //   const { eventId, projectName, ...newData } = payload;\r\n    //   if (info && projectName === info.project_name && eventId === info.event_id) {\r\n    //     yield put({ type: 'save', payload: { info: { ...info, ...newData } } });\r\n    //   }\r\n    // },\r\n  },\r\n\r\n  reducers: {\r\n    save(state, action) {\r\n      return { ...state, ...action.payload };\r\n    },\r\n  },\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/client/shows.js"],"sourceRoot":""}