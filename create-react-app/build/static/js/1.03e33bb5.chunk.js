webpackJsonp([1],{1391:function(e,r,t){"use strict";var n=t(262),a=t.n(n),u=t(507);function c(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function o(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function n(a,u){try{var c=r[a](u),o=c.value}catch(e){return void t(e)}if(!c.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}var s=function(){return Object(u.a)("/projects/:projectName/:resourcetype/:resourceId/:subType/:subId")};r.a={addVirtualCamera:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=c(r,["projectName"]);return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().post({projectName:t,resourcetype:"add_virtual_camera"},n));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getStorageQuota:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"storage_quota"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjects:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(r));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectInfo:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),updateProjectInfo:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=c(r,["projectName"]);return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().put({projectName:t},n));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getAccount:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"account"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getQuota:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"quota"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getOnlineSchoolConfig:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"online_school",resourceId:"config"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getWechatMerchant:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"wechat_merchant"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUsers:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(Object.assign({},r,{resourcetype:"users"})));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUserInfo:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"users",resourceId:n}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),addProjectUser:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username,u=r.role;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().post({projectName:t,resourcetype:"users"},{username:n,role:u}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),removeProjectUser:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().remove({projectName:t,resourcetype:"users",resourceId:n}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUserRoles:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(Object.assign({},r,{resourcetype:"user_roles"})));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUserRole:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"user_roles",resourceId:n}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),updateProjectUserRole:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username,u=r.role;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().put({projectName:t,resourcetype:"user_roles",resourceId:n},{role:u}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectDevices:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(Object.assign({},r,{resourcetype:"devices"})));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}()}},96:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(262),a=t.n(n),u=t(265),c=t.n(u),o=t(95),s=t(1391),p=t(508);function i(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}r.default={namespace:"projects",state:{pageSize:20,list:[],page:1,total:void 0,filterKey:"title",filterValue:"",loading:!1,info:void 0,saving:!1},subscriptions:{setup:function(e){var r=e.dispatch;return e.history.listen(function(e){var t=e.pathname,n=e.search;if("/projects"===t)return r({type:"init",payload:{search:n}});var a=t.match(/^\/projects\/([\w-]+)\//);return a?r({type:"getProjectInfo",payload:{projectName:a[1]}}):void 0})}},effects:{init:a.a.mark(function e(r,t){var n,u,o=r.payload,s=t.put;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.a.parse(o.search),u=parseInt(n.page||1,10),e.next=4,s({type:"save",payload:{filterKey:n.k||"title",filterValue:n.v||"",page:u}});case 4:return e.next=6,s({type:"save",payload:{list:[],total:void 0}});case 6:return e.next=8,s({type:"load",payload:o});case 8:case"end":return e.stop()}},e,this)}),load:a.a.mark(function e(r,t){r.payload;var n,u,c,o,p,i,f,l,v=t.call,d=t.put,h=t.select;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(function(e){return e.projects});case 2:if(n=e.sent,u=n.page,c=n.pageSize,o=n.filterKey,p=n.filterValue,!n.loading){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,d({type:"save",payload:{loading:!0}});case 12:return i=p?{filter_key:o,filter_value:p}:{},e.next=15,v(s.a.getProjects,Object.assign({start:(u-1)*c,limit:c},i));case 15:return f=e.sent,l=f.data,f.errMsg,e.next=20,d({type:"save",payload:{loading:!1,list:l&&l.list||null,total:l&&l.total}});case 20:case 21:case"end":return e.stop()}},e,this)}),getProjectInfo:a.a.mark(function e(r,t){var n,u,c=r.payload,o=t.put,s=t.select;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(function(e){return e.projects});case 2:if(n=e.sent,!(u=n.info)||c.projectName!==u.name){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,o({type:"refreshProjectInfo",payload:c});case 8:case"end":return e.stop()}},e,this)}),refreshProjectInfo:a.a.mark(function e(r,t){var n,u,c=r.payload,o=t.call,p=t.put;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({type:"save",payload:{info:void 0}});case 2:return e.next=4,o(s.a.getProjectInfo,c);case 4:return n=e.sent,u=n.data,e.next=8,p({type:"save",payload:{info:u||null}});case 8:case"end":return e.stop()}},e,this)}),saveProjectInfo:a.a.mark(function e(r,t){var n,u,c=r.payload,i=t.put,f=t.call;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"save",payload:{saving:!0}});case 2:return e.next=4,f(s.a.updateProjectInfo,c);case 4:return n=e.sent,u=n.errMsg,e.next=8,i({type:"save",payload:{saving:!1}});case 8:if(!u){e.next=12;break}Object(p.c)(u,"\u4fee\u6539\u5546\u6237\u4fe1\u606f\u5931\u8d25"),e.next=15;break;case 12:return e.next=14,i({type:"saveProjectInfo",payload:c});case 14:o.F.success({message:"\u4fee\u6539\u5f55\u50cf\u4fe1\u606f\u6210\u529f"});case 15:case"end":return e.stop()}},e,this)}),updateProjectInfo:a.a.mark(function e(r,t){var n,u,c,o,s=r.payload,p=t.put,f=t.select;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(function(e){return e.projects});case 2:if(n=e.sent,u=n.info,c=s.projectName,o=i(s,["projectName"]),!u||c!==u.name){e.next=8;break}return e.next=8,p({type:"save",payload:{info:Object.assign({},u,o)}});case 8:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,r){return Object.assign({},e,r.payload)}}}}});
//# sourceMappingURL=1.03e33bb5.chunk.js.map