{"version":3,"sources":["services/event.js","services/project.js","models/client/events.js"],"names":["events","Object","__WEBPACK_IMPORTED_MODULE_1__utils_resource__","recordResource","__webpack_exports__","getEvents","_ref","_asyncToGenerator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_callee","params","wrap","_context","prev","next","abrupt","get","stop","this","_x","apply","arguments","getEvent","_ref3","_callee2","_ref2","projectName","eventId","_context2","_x2","updateEventInfo","_ref5","_callee3","_ref4","data","_objectWithoutProperties","_context3","put","_x3","createVodSession","_ref7","_callee4","_ref6","_context4","post","type","_x4","removeEvent","_ref9","_callee5","_ref8","_context5","remove","_x5","createMultiUploadSession","_ref11","_callee6","_ref10","fileName","fileType","_context6","resourceType","file_name","mime","_x6","getMultiUploadSessionToken","_ref13","_callee7","_ref12","_context7","resourceId","action","_x7","updateMultiUploadSession","_ref15","_callee8","_ref14","_context8","_x8","delMultiUploadSession","_ref17","_callee9","_ref16","_context9","_x9","mergeEvents","_ref19","_callee10","_ref18","_context10","_x10","getTsUrl","_ref21","_callee11","_ref20","_context11","_x11","projects","addVirtualCamera","resourcetype","getStorageQuota","getProjects","getProjectInfo","updateProjectInfo","getAccount","getQuota","getOnlineSchoolConfig","getWechatMerchant","getProjectUsers","assign","getProjectUserInfo","username","addProjectUser","_ref22","_callee12","role","_context12","_x12","removeProjectUser","_ref24","_callee13","_ref23","_context13","_x13","getProjectUserRoles","_ref25","_callee14","_context14","_x14","getProjectUserRole","_ref27","_callee15","_ref26","_context15","_x15","updateProjectUserRole","_ref29","_callee16","_ref28","_context16","_x16","getProjectDevices","_ref30","_callee17","_context17","_x17","namespace","state","pageSize","list","page","total","undefined","keyword","loading","selected","storageQuota","info","subscriptions","setup","dispatch","history","listen","pathname","match","payload","matObj","effects","init","_queryString$parseUrl","query","__WEBPACK_IMPORTED_MODULE_1_query_string___default","parseUrl","window","location","href","parseInt","call","select","sent","project_name","__WEBPACK_IMPORTED_MODULE_3__services_project__","load","client","__WEBPACK_IMPORTED_MODULE_2__services_event__","start","limit","err","getEventInfo","event_id","refreshEventInfo","updateInfo","newData","reducers","save"],"mappings":"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","file":"static/js/3.dd4eb17a.chunk.js","sourcesContent":["\r\n// import { resource } from '../utils';\r\nimport resource from '../utils/resource';\r\n\r\n\r\nconst events = () => {\r\n  return resource('/projects/:projectName/record/events/:eventId/:type');\r\n};\r\n\r\nconst recordResource = () => {\r\n  return resource('/projects/:projectName/record/:resourceType/:resourceId/:action');\r\n};\r\n\r\nexport default {\r\n  async getEvents(params) {\r\n    // const data = {\r\n    //   projectName: params.projectName,\r\n    //   start: params.start,\r\n    //   limit: params.limit,\r\n    // };\r\n    // if (('string' === typeof params.keyword) && '' !== params.keyword) {\r\n    //   data.keyword = params.keyword;\r\n    // }\r\n    return events().get(params);\r\n  },\r\n  async getEvent({ projectName, eventId }) {\r\n    return events().get({ projectName, eventId });\r\n  },\r\n  async updateEventInfo({ projectName, eventId, ...data }) {\r\n    return events().put({ projectName, eventId }, data);\r\n  },\r\n  async createVodSession({ projectName, eventId }) {\r\n    return events().post({ projectName, eventId, type: 'vod_sessions' });\r\n  },\r\n  async removeEvent({ projectName, eventId }) {\r\n    return events().remove({ projectName, eventId });\r\n  },\r\n  async createMultiUploadSession({ projectName, fileName, fileType }) {\r\n    return recordResource().post({ projectName, resourceType: 'event_multipart_uploads' }, {\r\n      file_name: fileName,\r\n      mime: fileType,\r\n    });\r\n  },\r\n  async getMultiUploadSessionToken({ projectName, eventId }) {\r\n    return recordResource().post({\r\n      projectName,\r\n      resourceType: 'event_multipart_uploads',\r\n      resourceId: eventId,\r\n      action: 'token',\r\n    });\r\n  },\r\n  async updateMultiUploadSession({ projectName, eventId }) {\r\n    return recordResource().post({\r\n      projectName,\r\n      resourceType: 'event_multipart_uploads',\r\n      resourceId: eventId,\r\n      action: 'done',\r\n    });\r\n  },\r\n  async delMultiUploadSession({ projectName, eventId }) {\r\n    return recordResource().remove({\r\n      projectName,\r\n      resourceType: 'event_multipart_uploads',\r\n      resourceId: eventId,\r\n    });\r\n  },\r\n  async mergeEvents({ projectName, ...data }) {\r\n    return recordResource().post({ projectName, resourceType: 'merge_events' }, data);\r\n  },\r\n  async getTsUrl({ projectName, eventId }) {\r\n    return recordResource().get({\r\n      projectName,\r\n      resourceType: 'events',\r\n      resourceId: eventId,\r\n      action: 'ts_url',\r\n    });\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/event.js","\r\nimport resource from '../utils/resource';\r\n\r\nconst projects = () => {\r\n  return resource('/projects/:projectName/:resourcetype/:resourceId/:subType/:subId');\r\n};\r\n// const storageQuota = () => {\r\n//   return resource('/projects/:projectName/storage_quota');\r\n// };\r\n\r\nexport default {\r\n  async addVirtualCamera({ projectName, ...data }) {\r\n    return projects().post({ projectName, resourcetype: 'add_virtual_camera' }, data);\r\n  },\r\n  async getStorageQuota({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'storage_quota' });\r\n  },\r\n  async getProjects(params) {\r\n    return projects().get(params);\r\n  },\r\n  async getProjectInfo({ projectName }) {\r\n    return projects().get({ projectName });\r\n  },\r\n  async updateProjectInfo({ projectName, ...data }) {\r\n    return projects().put({ projectName }, data);\r\n  },\r\n  async getAccount({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'account' });\r\n  },\r\n  async getQuota({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'quota' });\r\n  },\r\n  async getOnlineSchoolConfig({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'online_school', resourceId: 'config' });\r\n  },\r\n  async getWechatMerchant({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'wechat_merchant' });\r\n  },\r\n  async getProjectUsers(params) {\r\n    return projects().get({ ...params, resourcetype: 'users' });\r\n  },\r\n  async getProjectUserInfo({ projectName, username }) {\r\n    return projects().get({ projectName, resourcetype: 'users', resourceId: username });\r\n  },\r\n  async addProjectUser({ projectName, username, role }) {\r\n    return projects().post({ projectName, resourcetype: 'users' }, { username, role });\r\n  },\r\n  async removeProjectUser({ projectName, username }) {\r\n    return projects().remove({ projectName, resourcetype: 'users', resourceId: username });\r\n  },\r\n  async getProjectUserRoles(params) {\r\n    return projects().get({ ...params, resourcetype: 'user_roles' });\r\n  },\r\n  async getProjectUserRole({ projectName, username }) {\r\n    return projects().get({ projectName, resourcetype: 'user_roles', resourceId: username });\r\n  },\r\n  async updateProjectUserRole({ projectName, username, role }) {\r\n    return projects().put({ projectName, resourcetype: 'user_roles', resourceId: username }, { role });\r\n  },\r\n  async getProjectDevices(params) {\r\n    return projects().get({ ...params, resourcetype: 'devices' });\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/project.js","// import { routerRedux } from 'dva/router';\r\nimport queryString from 'query-string';\r\nimport eventServer from '../../services/event';\r\nimport projectServer from '../../services/project';\r\n\r\n\r\nexport default {\r\n\r\n  namespace: 'events',\r\n\r\n  state: {\r\n    pageSize: 20,\r\n    list: [],\r\n    page: 1,\r\n    total: undefined,\r\n    keyword: undefined,\r\n    loading: false,\r\n    selected: undefined,\r\n    storageQuota: undefined,\r\n    info: undefined,\r\n  },\r\n\r\n  subscriptions: {\r\n    setup({ dispatch, history }) {\r\n      return history.listen(({ pathname }) => {\r\n        // debugger;\r\n        const match = pathname.match(/^\\/p\\/([\\w-]+)\\/events$/);\r\n        if (match) {\r\n          return dispatch({ type: 'init', payload: { projectName: match[1] } });\r\n        }\r\n        const matObj = pathname.match(/^\\/p\\/([\\w-]+)\\/events\\/([\\w-]+)\\//);\r\n        if (matObj) {\r\n          return dispatch({ type: 'getEventInfo', payload: { projectName: matObj[1], eventId: matObj[2] } });\r\n        }\r\n        // return dispatch({ type: 'reset' });\r\n      });\r\n    },\r\n  },\r\n\r\n  effects: {\r\n    // *reset({ payload }, { call, put, select }) {\r\n    //   yield put({ type: 'save', payload: { list: [], total: undefined } });\r\n    // },\r\n    *init({ payload }, { put }) {\r\n      // const { list } = yield select(state => state.events);\r\n      const { query } = queryString.parseUrl(window.location.href);\r\n      const page = parseInt(query.page || 1, 10);\r\n      yield put({ type: 'save', payload: { keyword: query.keyword, page } });\r\n      yield put({ type: 'save', payload: { list: [], total: undefined } });\r\n      yield put({ type: 'getStorageQuota', payload });\r\n      yield put({ type: 'load', payload });\r\n    },\r\n    *getStorageQuota({ payload }, { call, put, select }) {\r\n      const { storageQuota } = yield select(state => state.events);\r\n      if (!storageQuota || storageQuota.project_name !== payload.projectName) {\r\n        yield put({ type: 'save', payload: { storageQuota: undefined } });\r\n        const { data } = yield call(projectServer.getStorageQuota, payload);\r\n        yield put({ type: 'save', payload: { storageQuota: data || null } });\r\n      }\r\n    },\r\n    *load({ payload }, { call, put, select }) {\r\n      const { page, pageSize, keyword, loading } = yield select(state => state.events);\r\n      if (loading) {\r\n        return;\r\n      }\r\n      yield put({ type: 'save', payload: { loading: true } });\r\n      const { selected } = yield select(state => state.client);\r\n      const { data, err } = yield call(eventServer.getEvents, {\r\n        projectName: selected,\r\n        keyword,\r\n        start: (page - 1) * pageSize,\r\n        limit: pageSize,\r\n      });\r\n      yield put({ type: 'save', payload: { loading: false } });\r\n      if (err) {\r\n        // TODO: 获取课堂列表失败\r\n      }\r\n      // const { list } = yield select(state => state.events);\r\n      if (data) {\r\n        yield put({ type: 'save', payload: { list: data.list, total: data.total } });\r\n      }\r\n    },\r\n    *getEventInfo({ payload }, { put, select }) {\r\n      // yield put({ type: 'save', payload: { selected: payload } });\r\n      const { info } = yield select(state => state.events);\r\n      if (info && payload.eventId === info.event_id) {\r\n        return;\r\n      }\r\n      yield put({ type: 'refreshEventInfo', payload });\r\n      // yield put({ type: 'save', payload: { info: undefined } });\r\n      // const { data } = yield call(eventServer.getEvent, payload);\r\n      // yield put({ type: 'save', payload: { info: data || null } });\r\n    },\r\n    *refreshEventInfo({ payload }, { call, put }) {\r\n      yield put({ type: 'save', payload: { info: undefined } });\r\n      const { data } = yield call(eventServer.getEvent, payload);\r\n      yield put({ type: 'save', payload: { info: data || null } });\r\n    },\r\n    *updateInfo({ payload }, { put, select }) {\r\n      // yield put({ type: 'save', payload: { selected: payload } });\r\n      const { info } = yield select(state => state.events);\r\n      const { eventId, projectName, ...newData } = payload;\r\n      if (info && projectName === info.project_name && eventId === info.event_id) {\r\n        yield put({ type: 'save', payload: { info: { ...info, ...newData } } });\r\n      }\r\n    },\r\n    // *playEventRecord({ payload }, { put, select }) {\r\n    //   // yield put({ type: 'save', payload: { selected: payload } });\r\n    //   playEventRecord(payload);\r\n    //   // const { info } = yield select(state => state.events);\r\n    //   // const { eventId, projectName, ...newData } = payload;\r\n    //   // if (info && projectName === info.project_name && eventId === info.event_id) {\r\n    //   //   yield put({ type: 'save', payload: { info: { ...info, ...newData } } });\r\n    //   // }\r\n    // },\r\n  },\r\n\r\n  reducers: {\r\n    save(state, action) {\r\n      return { ...state, ...action.payload };\r\n    },\r\n  },\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/client/events.js"],"sourceRoot":""}