{"version":3,"sources":["models/admin/projectCameras.js","services/event.js","services/project.js"],"names":["__webpack_exports__","namespace","state","pageSize","list","page","total","undefined","keyword","loading","selected","storageQuota","info","subscriptions","setup","_ref","dispatch","history","listen","_ref2","pathname","match","type","payload","projectName","matObj","eventId","effects","init","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_ref3","_ref4","_queryString$parseUrl","query","put","wrap","_context","prev","next","__WEBPACK_IMPORTED_MODULE_1_query_string___default","parseUrl","window","location","href","parseInt","stop","this","getStorageQuota","_ref5","_ref6","_ref7","_ref8","data","call","select","_context2","events","sent","project_name","__WEBPACK_IMPORTED_MODULE_3__services_project__","load","_ref9","_ref10","_ref11","_ref12","_ref13","_context3","abrupt","client","__WEBPACK_IMPORTED_MODULE_2__services_event__","getEvents","start","limit","err","getEventInfo","_ref14","_ref15","_ref16","_context4","event_id","refreshEventInfo","_ref17","_ref18","_ref19","_context5","getEvent","updateInfo","_ref20","_ref21","_ref22","newData","_context6","_objectWithoutProperties","reducers","save","action","Object","assign","__WEBPACK_IMPORTED_MODULE_1__utils_resource__","recordResource","_asyncToGenerator","_callee","params","get","_x","apply","arguments","_callee2","_x2","updateEventInfo","_callee3","_x3","createVodSession","_callee4","post","_x4","removeEvent","_callee5","remove","_x5","createMultiUploadSession","_callee6","fileName","fileType","resourceType","file_name","mime","_x6","getMultiUploadSessionToken","_callee7","_context7","resourceId","_x7","updateMultiUploadSession","_callee8","_context8","_x8","delMultiUploadSession","_callee9","_context9","_x9","mergeEvents","_callee10","_context10","_x10","getTsUrl","_callee11","_context11","_x11","projects","addVirtualCamera","resourcetype","getProjects","getProjectInfo","updateProjectInfo","getAccount","getQuota","getOnlineSchoolConfig","getWechatMerchant","getProjectUsers","getProjectUserInfo","username","addProjectUser","_callee12","role","_context12","_x12","removeProjectUser","_ref24","_callee13","_ref23","_context13","_x13","getProjectUserRoles","_ref25","_callee14","_context14","_x14","getProjectUserRole","_ref27","_callee15","_ref26","_context15","_x15","updateProjectUserRole","_ref29","_callee16","_ref28","_context16","_x16","getProjectDevices","_ref30","_callee17","_context17","_x17"],"mappings":"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","file":"static/js/13.1f28e728.chunk.js","sourcesContent":["// import { routerRedux } from 'dva/router';\nimport queryString from 'query-string';\nimport eventServer from '../../services/event';\nimport projectServer from '../../services/project';\n\n\nexport default {\n\n  namespace: 'project-cameras',\n\n  state: {\n    pageSize: 20,\n    list: [],\n    page: 1,\n    total: undefined,\n    keyword: undefined,\n    loading: false,\n    selected: undefined,\n    storageQuota: undefined,\n    info: undefined,\n  },\n\n  subscriptions: {\n    setup({ dispatch, history }) {\n      return history.listen(({ pathname }) => {\n        // debugger;\n        const match = pathname.match(/^\\/p\\/([\\w-]+)\\/events$/);\n        if (match) {\n          return dispatch({ type: 'init', payload: { projectName: match[1] } });\n        }\n        const matObj = pathname.match(/^\\/p\\/([\\w-]+)\\/events\\/([\\w-]+)\\//);\n        if (matObj) {\n          return dispatch({ type: 'getEventInfo', payload: { projectName: matObj[1], eventId: matObj[2] } });\n        }\n        // return dispatch({ type: 'reset' });\n      });\n    },\n  },\n\n  effects: {\n    // *reset({ payload }, { call, put, select }) {\n    //   yield put({ type: 'save', payload: { list: [], total: undefined } });\n    // },\n    *init({ payload }, { put }) {\n      // const { list } = yield select(state => state.events);\n      const { query } = queryString.parseUrl(window.location.href);\n      const page = parseInt(query.page || 1, 10);\n      yield put({ type: 'save', payload: { keyword: query.keyword, page } });\n      yield put({ type: 'save', payload: { list: [], total: undefined } });\n      yield put({ type: 'getStorageQuota', payload });\n      yield put({ type: 'load', payload });\n    },\n    *getStorageQuota({ payload }, { call, put, select }) {\n      const { storageQuota } = yield select(state => state.events);\n      if (!storageQuota || storageQuota.project_name !== payload.projectName) {\n        yield put({ type: 'save', payload: { storageQuota: undefined } });\n        const { data } = yield call(projectServer.getStorageQuota, payload);\n        yield put({ type: 'save', payload: { storageQuota: data || null } });\n      }\n    },\n    *load({ payload }, { call, put, select }) {\n      const { page, pageSize, keyword, loading } = yield select(state => state.events);\n      if (loading) {\n        return;\n      }\n      yield put({ type: 'save', payload: { loading: true } });\n      const { selected } = yield select(state => state.client);\n      const { data, err } = yield call(eventServer.getEvents, {\n        projectName: selected,\n        keyword,\n        start: (page - 1) * pageSize,\n        limit: pageSize,\n      });\n      yield put({ type: 'save', payload: { loading: false } });\n      if (err) {\n        // TODO: 获取课堂列表失败\n      }\n      // const { list } = yield select(state => state.events);\n      if (data) {\n        yield put({ type: 'save', payload: { list: data.list, total: data.total } });\n      }\n    },\n    *getEventInfo({ payload }, { put, select }) {\n      // yield put({ type: 'save', payload: { selected: payload } });\n      const { info } = yield select(state => state.events);\n      if (info && payload.eventId === info.event_id) {\n        return;\n      }\n      yield put({ type: 'refreshEventInfo', payload });\n      // yield put({ type: 'save', payload: { info: undefined } });\n      // const { data } = yield call(eventServer.getEvent, payload);\n      // yield put({ type: 'save', payload: { info: data || null } });\n    },\n    *refreshEventInfo({ payload }, { call, put }) {\n      yield put({ type: 'save', payload: { info: undefined } });\n      const { data } = yield call(eventServer.getEvent, payload);\n      yield put({ type: 'save', payload: { info: data || null } });\n    },\n    *updateInfo({ payload }, { put, select }) {\n      // yield put({ type: 'save', payload: { selected: payload } });\n      const { info } = yield select(state => state.events);\n      const { eventId, projectName, ...newData } = payload;\n      if (info && projectName === info.project_name && eventId === info.event_id) {\n        yield put({ type: 'save', payload: { info: { ...info, ...newData } } });\n      }\n    },\n    // *playEventRecord({ payload }, { put, select }) {\n    //   // yield put({ type: 'save', payload: { selected: payload } });\n    //   playEventRecord(payload);\n    //   // const { info } = yield select(state => state.events);\n    //   // const { eventId, projectName, ...newData } = payload;\n    //   // if (info && projectName === info.project_name && eventId === info.event_id) {\n    //   //   yield put({ type: 'save', payload: { info: { ...info, ...newData } } });\n    //   // }\n    // },\n  },\n\n  reducers: {\n    save(state, action) {\n      return { ...state, ...action.payload };\n    },\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/admin/projectCameras.js","\r\n// import { resource } from '../utils';\r\nimport resource from '../utils/resource';\r\n\r\n\r\nconst events = () => {\r\n  return resource('/projects/:projectName/record/events/:eventId/:type');\r\n};\r\n\r\nconst recordResource = () => {\r\n  return resource('/projects/:projectName/record/:resourceType/:resourceId/:action');\r\n};\r\n\r\nexport default {\r\n  async getEvents(params) {\r\n    // const data = {\r\n    //   projectName: params.projectName,\r\n    //   start: params.start,\r\n    //   limit: params.limit,\r\n    // };\r\n    // if (('string' === typeof params.keyword) && '' !== params.keyword) {\r\n    //   data.keyword = params.keyword;\r\n    // }\r\n    return events().get(params);\r\n  },\r\n  async getEvent({ projectName, eventId }) {\r\n    return events().get({ projectName, eventId });\r\n  },\r\n  async updateEventInfo({ projectName, eventId, ...data }) {\r\n    return events().put({ projectName, eventId }, data);\r\n  },\r\n  async createVodSession({ projectName, eventId }) {\r\n    return events().post({ projectName, eventId, type: 'vod_sessions' });\r\n  },\r\n  async removeEvent({ projectName, eventId }) {\r\n    return events().remove({ projectName, eventId });\r\n  },\r\n  async createMultiUploadSession({ projectName, fileName, fileType }) {\r\n    return recordResource().post({ projectName, resourceType: 'event_multipart_uploads' }, {\r\n      file_name: fileName,\r\n      mime: fileType,\r\n    });\r\n  },\r\n  async getMultiUploadSessionToken({ projectName, eventId }) {\r\n    return recordResource().post({\r\n      projectName,\r\n      resourceType: 'event_multipart_uploads',\r\n      resourceId: eventId,\r\n      action: 'token',\r\n    });\r\n  },\r\n  async updateMultiUploadSession({ projectName, eventId }) {\r\n    return recordResource().post({\r\n      projectName,\r\n      resourceType: 'event_multipart_uploads',\r\n      resourceId: eventId,\r\n      action: 'done',\r\n    });\r\n  },\r\n  async delMultiUploadSession({ projectName, eventId }) {\r\n    return recordResource().remove({\r\n      projectName,\r\n      resourceType: 'event_multipart_uploads',\r\n      resourceId: eventId,\r\n    });\r\n  },\r\n  async mergeEvents({ projectName, ...data }) {\r\n    return recordResource().post({ projectName, resourceType: 'merge_events' }, data);\r\n  },\r\n  async getTsUrl({ projectName, eventId }) {\r\n    return recordResource().get({\r\n      projectName,\r\n      resourceType: 'events',\r\n      resourceId: eventId,\r\n      action: 'ts_url',\r\n    });\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/event.js","\r\nimport resource from '../utils/resource';\r\n\r\nconst projects = () => {\r\n  return resource('/projects/:projectName/:resourcetype/:resourceId/:subType/:subId');\r\n};\r\n// const storageQuota = () => {\r\n//   return resource('/projects/:projectName/storage_quota');\r\n// };\r\n\r\nexport default {\r\n  async addVirtualCamera({ projectName, ...data }) {\r\n    return projects().post({ projectName, resourcetype: 'add_virtual_camera' }, data);\r\n  },\r\n  async getStorageQuota({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'storage_quota' });\r\n  },\r\n  async getProjects(params) {\r\n    return projects().get(params);\r\n  },\r\n  async getProjectInfo({ projectName }) {\r\n    return projects().get({ projectName });\r\n  },\r\n  async updateProjectInfo({ projectName, ...data }) {\r\n    return projects().put({ projectName }, data);\r\n  },\r\n  async getAccount({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'account' });\r\n  },\r\n  async getQuota({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'quota' });\r\n  },\r\n  async getOnlineSchoolConfig({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'online_school', resourceId: 'config' });\r\n  },\r\n  async getWechatMerchant({ projectName }) {\r\n    return projects().get({ projectName, resourcetype: 'wechat_merchant' });\r\n  },\r\n  async getProjectUsers(params) {\r\n    return projects().get({ ...params, resourcetype: 'users' });\r\n  },\r\n  async getProjectUserInfo({ projectName, username }) {\r\n    return projects().get({ projectName, resourcetype: 'users', resourceId: username });\r\n  },\r\n  async addProjectUser({ projectName, username, role }) {\r\n    return projects().post({ projectName, resourcetype: 'users' }, { username, role });\r\n  },\r\n  async removeProjectUser({ projectName, username }) {\r\n    return projects().remove({ projectName, resourcetype: 'users', resourceId: username });\r\n  },\r\n  async getProjectUserRoles(params) {\r\n    return projects().get({ ...params, resourcetype: 'user_roles' });\r\n  },\r\n  async getProjectUserRole({ projectName, username }) {\r\n    return projects().get({ projectName, resourcetype: 'user_roles', resourceId: username });\r\n  },\r\n  async updateProjectUserRole({ projectName, username, role }) {\r\n    return projects().put({ projectName, resourcetype: 'user_roles', resourceId: username }, { role });\r\n  },\r\n  async getProjectDevices(params) {\r\n    return projects().get({ ...params, resourcetype: 'devices' });\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/project.js"],"sourceRoot":""}