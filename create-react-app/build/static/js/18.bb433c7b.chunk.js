webpackJsonp([18],{1310:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(262),a=t.n(n),u=t(265),c=t.n(u),o=t(1391),s=t(508);r.default={namespace:"project-devices",state:{pageSize:20,list:[],page:1,total:void 0,loading:!1},subscriptions:{setup:function(e){var r=e.dispatch;return e.history.listen(function(e){var t=e.pathname,n=e.search,a=t.match(/^\/projects\/([\w-]+)\/devices$/);if(a)return r({type:"init",payload:{projectName:a[1],search:n}})})}},effects:{init:a.a.mark(function e(r,t){var n,u,o=r.payload,s=t.put;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.a.parse(o.search),u=parseInt(n.page||1,10),e.next=4,s({type:"save",payload:{page:u,list:[],total:void 0}});case 4:return e.next=6,s({type:"load",payload:o});case 6:case"end":return e.stop()}},e,this)}),load:a.a.mark(function e(r,t){var n,u,c,p,i,f,v=r.payload,h=t.call,l=t.put,m=t.select;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(function(e){return e["project-users"]});case 2:if(n=e.sent,u=n.page,c=n.pageSize,!n.loading){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,l({type:"save",payload:{loading:!0}});case 10:return e.next=12,h(o.a.getProjectDevices,{start:(u-1)*c,limit:c,projectName:v.projectName});case 12:return p=e.sent,i=p.data,f=p.errMsg,e.next=17,l({type:"save",payload:{loading:!1,list:i&&i.list||null,total:i&&i.total}});case 17:f&&Object(s.c)(f,"\u83b7\u53d6\u8bbe\u5907\u5217\u8868\u5931\u8d25");case 18:case"end":return e.stop()}},e,this)})},reducers:{save:function(e,r){return Object.assign({},e,r.payload)}}}},1391:function(e,r,t){"use strict";var n=t(262),a=t.n(n),u=t(507);function c(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function o(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function n(a,u){try{var c=r[a](u),o=c.value}catch(e){return void t(e)}if(!c.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}var s=function(){return Object(u.a)("/projects/:projectName/:resourcetype/:resourceId/:subType/:subId")};r.a={addVirtualCamera:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=c(r,["projectName"]);return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().post({projectName:t,resourcetype:"add_virtual_camera"},n));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getStorageQuota:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"storage_quota"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjects:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(r));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectInfo:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),updateProjectInfo:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=c(r,["projectName"]);return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().put({projectName:t},n));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getAccount:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"account"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getQuota:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"quota"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getOnlineSchoolConfig:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"online_school",resourceId:"config"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getWechatMerchant:function(){var e=o(a.a.mark(function e(r){var t=r.projectName;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"wechat_merchant"}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUsers:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(Object.assign({},r,{resourcetype:"users"})));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUserInfo:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"users",resourceId:n}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),addProjectUser:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username,u=r.role;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().post({projectName:t,resourcetype:"users"},{username:n,role:u}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),removeProjectUser:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().remove({projectName:t,resourcetype:"users",resourceId:n}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUserRoles:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(Object.assign({},r,{resourcetype:"user_roles"})));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectUserRole:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get({projectName:t,resourcetype:"user_roles",resourceId:n}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),updateProjectUserRole:function(){var e=o(a.a.mark(function e(r){var t=r.projectName,n=r.username,u=r.role;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().put({projectName:t,resourcetype:"user_roles",resourceId:n},{role:u}));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),getProjectDevices:function(){var e=o(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s().get(Object.assign({},r,{resourcetype:"devices"})));case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}()}}});
//# sourceMappingURL=18.bb433c7b.chunk.js.map