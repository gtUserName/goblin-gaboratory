webpackJsonp([40],{1354:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(262),a=t.n(n),u=t(31),o=t.n(u),s=t(1648),c=t(1391),i=t(504),p=function(){return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var t=[],n=!0,a=!1,u=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(r){a=!0,u=r}finally{try{!n&&s.return&&s.return()}finally{if(a)throw u}}return t}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default={namespace:"dashboard",state:{loading:!0,working:void 0,userSessionProjects:void 0,eventSizeProjects:void 0,vodDurtionProjects:void 0,liveDurtionProjects:void 0,projectCount:void 0,userCount:void 0},subscriptions:{setup:function(r){var e=r.dispatch;return r.history.listen(function(r){if("/dashboard"===r.pathname)return e({type:"load"})})}},effects:{load:a.a.mark(function r(e,t){e.payload;var n,u,f,v,d,h,l,y,m,j,g,w=t.put,b=t.select,P=t.call;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(function(r){return r.loading});case 2:if(n=r.sent,!n.loading){r.next=6;break}return r.abrupt("return",!1);case 6:return r.next=8,w({type:"save",payload:{loading:!0,working:void 0,userSessionProjects:void 0,eventSizeProjects:void 0,vodDurtionProjects:void 0,liveDurtionProjects:void 0,projectCount:void 0,userCount:void 0}});case 8:return u=o()((new Date).setHours(0,0,0,0)-864e5).format("YYYY-MM-DDTHH:mm:ss"),r.next=11,[P(s.a.getWorkingStatistic,{}),P(s.a.getProjectsByUserSession,{start_from:u}),P(s.a.getProjectsByEventSize,{start_from:u}),P(s.a.getProjectsByVodDurtion,{start_from:u}),P(s.a.getProjectsByLiveDurtion,{start_from:u}),P(c.a.getProjects,{start:0,limit:0}),P(i.a.getUsers,{start:0,limit:0})];case 11:return f=r.sent,v=p(f,7),d=v[0],h=v[1],l=v[2],y=v[3],m=v[4],j=v[5],g=v[6],r.next=22,w({type:"save",payload:{loading:!1,working:d.data||null,userSessionProjects:h.data||[],eventSizeProjects:l.data||[],vodDurtionProjects:y.data||[],liveDurtionProjects:m.data||[],projectCount:j.data.total||0,userCount:g.data.total||0}});case 22:case"end":return r.stop()}},r,this)})},reducers:{save:function(r,e){return Object.assign({},r,e.payload)}}}},1391:function(r,e,t){"use strict";var n=t(262),a=t.n(n),u=t(507);function o(r,e){var t={};for(var n in r)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t}function s(r){return function(){var e=r.apply(this,arguments);return new Promise(function(r,t){return function n(a,u){try{var o=e[a](u),s=o.value}catch(r){return void t(r)}if(!o.done)return Promise.resolve(s).then(function(r){n("next",r)},function(r){n("throw",r)});r(s)}("next")})}}var c=function(){return Object(u.a)("/projects/:projectName/:resourcetype/:resourceId/:subType/:subId")};e.a={addVirtualCamera:function(){var r=s(a.a.mark(function r(e){var t=e.projectName,n=o(e,["projectName"]);return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().post({projectName:t,resourcetype:"add_virtual_camera"},n));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getStorageQuota:function(){var r=s(a.a.mark(function r(e){var t=e.projectName;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t,resourcetype:"storage_quota"}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjects:function(){var r=s(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get(e));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectInfo:function(){var r=s(a.a.mark(function r(e){var t=e.projectName;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),updateProjectInfo:function(){var r=s(a.a.mark(function r(e){var t=e.projectName,n=o(e,["projectName"]);return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().put({projectName:t},n));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getAccount:function(){var r=s(a.a.mark(function r(e){var t=e.projectName;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t,resourcetype:"account"}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getQuota:function(){var r=s(a.a.mark(function r(e){var t=e.projectName;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t,resourcetype:"quota"}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getOnlineSchoolConfig:function(){var r=s(a.a.mark(function r(e){var t=e.projectName;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t,resourcetype:"online_school",resourceId:"config"}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getWechatMerchant:function(){var r=s(a.a.mark(function r(e){var t=e.projectName;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t,resourcetype:"wechat_merchant"}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectUsers:function(){var r=s(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get(Object.assign({},e,{resourcetype:"users"})));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectUserInfo:function(){var r=s(a.a.mark(function r(e){var t=e.projectName,n=e.username;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t,resourcetype:"users",resourceId:n}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),addProjectUser:function(){var r=s(a.a.mark(function r(e){var t=e.projectName,n=e.username,u=e.role;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().post({projectName:t,resourcetype:"users"},{username:n,role:u}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),removeProjectUser:function(){var r=s(a.a.mark(function r(e){var t=e.projectName,n=e.username;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().remove({projectName:t,resourcetype:"users",resourceId:n}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectUserRoles:function(){var r=s(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get(Object.assign({},e,{resourcetype:"user_roles"})));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectUserRole:function(){var r=s(a.a.mark(function r(e){var t=e.projectName,n=e.username;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get({projectName:t,resourcetype:"user_roles",resourceId:n}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),updateProjectUserRole:function(){var r=s(a.a.mark(function r(e){var t=e.projectName,n=e.username,u=e.role;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().put({projectName:t,resourcetype:"user_roles",resourceId:n},{role:u}));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectDevices:function(){var r=s(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c().get(Object.assign({},e,{resourcetype:"devices"})));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}()}},1648:function(r,e,t){"use strict";var n=t(262),a=t.n(n),u=t(507);function o(r){return function(){var e=r.apply(this,arguments);return new Promise(function(r,t){return function n(a,u){try{var o=e[a](u),s=o.value}catch(r){return void t(r)}if(!o.done)return Promise.resolve(s).then(function(r){n("next",r)},function(r){n("throw",r)});r(s)}("next")})}}var s=function(){return Object(u.a)("/ivr_statistic/:type/:subType/:resourceType")};e.a={getWorkingStatistic:function(){var r=o(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",s().get(Object.assign({type:"realtime",subType:"working"},e)));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectsByUserSession:function(){var r=o(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",s().get(Object.assign({type:"realtime",subType:"user_session_counts"},e)));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectsByEventSize:function(){var r=o(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",s().get(Object.assign({type:"event",subType:"size",resourceType:"projects"},e)));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectsByVodDurtion:function(){var r=o(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",s().get(Object.assign({type:"vod_session",subType:"duration",resourceType:"projects"},e)));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}(),getProjectsByLiveDurtion:function(){var r=o(a.a.mark(function r(e){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",s().get(Object.assign({type:"live_session",subType:"duration",resourceType:"projects"},e)));case 1:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}()}}});
//# sourceMappingURL=40.3d3c63c9.chunk.js.map